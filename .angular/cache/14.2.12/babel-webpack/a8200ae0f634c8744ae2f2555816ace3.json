{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nexport class DepthToSpaceProgram {\n  constructor(outputShape, blockSize, dataFormat) {\n    this.variableNames = ['x'];\n    this.outputShape = [];\n    this.outputShape = outputShape;\n    this.blockSize = blockSize;\n    this.dataFormat = dataFormat;\n    this.userCode = `\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${blockSize};\n      int offset_h = imod(h, ${blockSize});\n      int in_w = w / ${blockSize};\n      int offset_w = imod(w, ${blockSize});\n      int offset_d = (offset_h * ${blockSize} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `;\n  }\n\n  getHeightCoordString() {\n    if (this.dataFormat === 'NHWC') {\n      return `coords[1]`;\n    } else {\n      return `coords[2]`;\n    }\n  }\n\n  getWidthCoordString() {\n    if (this.dataFormat === 'NHWC') {\n      return `coords[2]`;\n    } else {\n      return `coords[3]`;\n    }\n  }\n\n  getDepthCoordString() {\n    if (this.dataFormat === 'NHWC') {\n      return `coords[3]`;\n    } else {\n      return `coords[1]`;\n    }\n  }\n\n  getOutputDepthSize() {\n    if (this.dataFormat === 'NHWC') {\n      return this.outputShape[3];\n    } else {\n      return this.outputShape[1];\n    }\n  }\n\n  getInputSamplingString() {\n    if (this.dataFormat === 'NHWC') {\n      return `getX(b, in_h, in_w, in_d)`;\n    } else {\n      return `getX(b, in_d, in_h, in_w)`;\n    }\n  }\n\n}","map":{"version":3,"names":["DepthToSpaceProgram","constructor","outputShape","blockSize","dataFormat","variableNames","userCode","getHeightCoordString","getWidthCoordString","getDepthCoordString","getOutputDepthSize","getInputSamplingString"],"sources":["C:/Users/Anke/Documents/Feelix documents/Feelix2.0-dev/Feelix v2/node_modules/@tensorflow/tfjs-backend-webgl/dist/depth_to_space_gpu.js"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nexport class DepthToSpaceProgram {\n    constructor(outputShape, blockSize, dataFormat) {\n        this.variableNames = ['x'];\n        this.outputShape = [];\n        this.outputShape = outputShape;\n        this.blockSize = blockSize;\n        this.dataFormat = dataFormat;\n        this.userCode = `\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${blockSize};\n      int offset_h = imod(h, ${blockSize});\n      int in_w = w / ${blockSize};\n      int offset_w = imod(w, ${blockSize});\n      int offset_d = (offset_h * ${blockSize} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `;\n    }\n    getHeightCoordString() {\n        if (this.dataFormat === 'NHWC') {\n            return `coords[1]`;\n        }\n        else {\n            return `coords[2]`;\n        }\n    }\n    getWidthCoordString() {\n        if (this.dataFormat === 'NHWC') {\n            return `coords[2]`;\n        }\n        else {\n            return `coords[3]`;\n        }\n    }\n    getDepthCoordString() {\n        if (this.dataFormat === 'NHWC') {\n            return `coords[3]`;\n        }\n        else {\n            return `coords[1]`;\n        }\n    }\n    getOutputDepthSize() {\n        if (this.dataFormat === 'NHWC') {\n            return this.outputShape[3];\n        }\n        else {\n            return this.outputShape[1];\n        }\n    }\n    getInputSamplingString() {\n        if (this.dataFormat === 'NHWC') {\n            return `getX(b, in_h, in_w, in_d)`;\n        }\n        else {\n            return `getX(b, in_d, in_h, in_w)`;\n        }\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,mBAAN,CAA0B;EAC7BC,WAAW,CAACC,WAAD,EAAcC,SAAd,EAAyBC,UAAzB,EAAqC;IAC5C,KAAKC,aAAL,GAAqB,CAAC,GAAD,CAArB;IACA,KAAKH,WAAL,GAAmB,EAAnB;IACA,KAAKA,WAAL,GAAmBA,WAAnB;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKC,UAAL,GAAkBA,UAAlB;IACA,KAAKE,QAAL,GAAiB;AACzB;AACA;AACA;AACA,gBAAgB,KAAKC,oBAAL,EAA4B;AAC5C,gBAAgB,KAAKC,mBAAL,EAA2B;AAC3C,gBAAgB,KAAKC,mBAAL,EAA2B;AAC3C;AACA,uBAAuBN,SAAU;AACjC,+BAA+BA,SAAU;AACzC,uBAAuBA,SAAU;AACjC,+BAA+BA,SAAU;AACzC,mCAAmCA,SAAU;AAC7C,UAAU,KAAKO,kBAAL,EAA0B;AACpC;AACA;AACA,uBAAuB,KAAKC,sBAAL,EAA8B;AACrD;AACA;AACA,GAnBQ;EAoBH;;EACDJ,oBAAoB,GAAG;IACnB,IAAI,KAAKH,UAAL,KAAoB,MAAxB,EAAgC;MAC5B,OAAQ,WAAR;IACH,CAFD,MAGK;MACD,OAAQ,WAAR;IACH;EACJ;;EACDI,mBAAmB,GAAG;IAClB,IAAI,KAAKJ,UAAL,KAAoB,MAAxB,EAAgC;MAC5B,OAAQ,WAAR;IACH,CAFD,MAGK;MACD,OAAQ,WAAR;IACH;EACJ;;EACDK,mBAAmB,GAAG;IAClB,IAAI,KAAKL,UAAL,KAAoB,MAAxB,EAAgC;MAC5B,OAAQ,WAAR;IACH,CAFD,MAGK;MACD,OAAQ,WAAR;IACH;EACJ;;EACDM,kBAAkB,GAAG;IACjB,IAAI,KAAKN,UAAL,KAAoB,MAAxB,EAAgC;MAC5B,OAAO,KAAKF,WAAL,CAAiB,CAAjB,CAAP;IACH,CAFD,MAGK;MACD,OAAO,KAAKA,WAAL,CAAiB,CAAjB,CAAP;IACH;EACJ;;EACDS,sBAAsB,GAAG;IACrB,IAAI,KAAKP,UAAL,KAAoB,MAAxB,EAAgC;MAC5B,OAAQ,2BAAR;IACH,CAFD,MAGK;MACD,OAAQ,2BAAR;IACH;EACJ;;AAnE4B"},"metadata":{},"sourceType":"module"}