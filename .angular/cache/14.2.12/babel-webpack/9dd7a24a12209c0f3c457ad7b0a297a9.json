{"ast":null,"code":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { getTensor } from '../executors/utils';\nimport { getBoolArrayParam, getBoolParam, getDtypeArrayParam, getDtypeParam, getNumberParam, getNumericArrayParam, getStringArrayParam, getStringParam, getTensorShapeArrayParam, getTensorShapeParam } from '../operation_mapper';\n/**\n * Helper class for lookup inputs and params for nodes in the model graph.\n */\n\nexport class NodeValueImpl {\n  constructor(node, tensorMap, context) {\n    this.node = node;\n    this.tensorMap = tensorMap;\n    this.context = context;\n    this.inputs = [];\n    this.attrs = {};\n    this.inputs = node.inputNames.map(name => this.getInput(name));\n\n    if (node.rawAttrs != null) {\n      this.attrs = Object.keys(node.rawAttrs).reduce((attrs, key) => {\n        attrs[key] = this.getAttr(key);\n        return attrs;\n      }, {});\n    }\n  }\n  /**\n   * Return the value of the attribute or input param.\n   * @param name String: name of attribute or input param.\n   */\n\n\n  getInput(name) {\n    return getTensor(name, this.tensorMap, this.context);\n  }\n  /**\n   * Return the value of the attribute or input param.\n   * @param name String: name of attribute or input param.\n   */\n\n\n  getAttr(name, defaultValue) {\n    const value = this.node.rawAttrs[name];\n\n    if (value.tensor != null) {\n      return getTensor(name, this.tensorMap, this.context);\n    }\n\n    if (value.i != null || value.f != null) {\n      return getNumberParam(this.node.rawAttrs, name, defaultValue);\n    }\n\n    if (value.s != null) {\n      return getStringParam(this.node.rawAttrs, name, defaultValue);\n    }\n\n    if (value.b != null) {\n      return getBoolParam(this.node.rawAttrs, name, defaultValue);\n    }\n\n    if (value.shape != null) {\n      return getTensorShapeParam(this.node.rawAttrs, name, defaultValue);\n    }\n\n    if (value.type != null) {\n      return getDtypeParam(this.node.rawAttrs, name, defaultValue);\n    }\n\n    if (value.list != null) {\n      if (value.list.i != null || value.list.f != null) {\n        return getNumericArrayParam(this.node.rawAttrs, name, defaultValue);\n      }\n\n      if (value.list.s != null) {\n        return getStringArrayParam(this.node.rawAttrs, name, defaultValue);\n      }\n\n      if (value.list.shape != null) {\n        return getTensorShapeArrayParam(this.node.rawAttrs, name, defaultValue);\n      }\n\n      if (value.list.b != null) {\n        return getBoolArrayParam(this.node.rawAttrs, name, defaultValue);\n      }\n\n      if (value.list.type != null) {\n        return getDtypeArrayParam(this.node.rawAttrs, name, defaultValue);\n      }\n    }\n\n    return defaultValue;\n  }\n\n}","map":{"version":3,"names":["getTensor","getBoolArrayParam","getBoolParam","getDtypeArrayParam","getDtypeParam","getNumberParam","getNumericArrayParam","getStringArrayParam","getStringParam","getTensorShapeArrayParam","getTensorShapeParam","NodeValueImpl","constructor","node","tensorMap","context","inputs","attrs","inputNames","map","name","getInput","rawAttrs","Object","keys","reduce","key","getAttr","defaultValue","value","tensor","i","f","s","b","shape","type","list"],"sources":["C:/Users/Anke/Documents/Feelix documents/Feelix2.0-dev/Feelix v2/node_modules/@tensorflow/tfjs-converter/dist/operations/custom_op/node_value_impl.js"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport { getTensor } from '../executors/utils';\nimport { getBoolArrayParam, getBoolParam, getDtypeArrayParam, getDtypeParam, getNumberParam, getNumericArrayParam, getStringArrayParam, getStringParam, getTensorShapeArrayParam, getTensorShapeParam } from '../operation_mapper';\n/**\n * Helper class for lookup inputs and params for nodes in the model graph.\n */\nexport class NodeValueImpl {\n    constructor(node, tensorMap, context) {\n        this.node = node;\n        this.tensorMap = tensorMap;\n        this.context = context;\n        this.inputs = [];\n        this.attrs = {};\n        this.inputs = node.inputNames.map(name => this.getInput(name));\n        if (node.rawAttrs != null) {\n            this.attrs = Object.keys(node.rawAttrs)\n                .reduce((attrs, key) => {\n                attrs[key] = this.getAttr(key);\n                return attrs;\n            }, {});\n        }\n    }\n    /**\n     * Return the value of the attribute or input param.\n     * @param name String: name of attribute or input param.\n     */\n    getInput(name) {\n        return getTensor(name, this.tensorMap, this.context);\n    }\n    /**\n     * Return the value of the attribute or input param.\n     * @param name String: name of attribute or input param.\n     */\n    getAttr(name, defaultValue) {\n        const value = this.node.rawAttrs[name];\n        if (value.tensor != null) {\n            return getTensor(name, this.tensorMap, this.context);\n        }\n        if (value.i != null || value.f != null) {\n            return getNumberParam(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.s != null) {\n            return getStringParam(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.b != null) {\n            return getBoolParam(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.shape != null) {\n            return getTensorShapeParam(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.type != null) {\n            return getDtypeParam(this.node.rawAttrs, name, defaultValue);\n        }\n        if (value.list != null) {\n            if (value.list.i != null || value.list.f != null) {\n                return getNumericArrayParam(this.node.rawAttrs, name, defaultValue);\n            }\n            if (value.list.s != null) {\n                return getStringArrayParam(this.node.rawAttrs, name, defaultValue);\n            }\n            if (value.list.shape != null) {\n                return getTensorShapeArrayParam(this.node.rawAttrs, name, defaultValue);\n            }\n            if (value.list.b != null) {\n                return getBoolArrayParam(this.node.rawAttrs, name, defaultValue);\n            }\n            if (value.list.type != null) {\n                return getDtypeArrayParam(this.node.rawAttrs, name, defaultValue);\n            }\n        }\n        return defaultValue;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}