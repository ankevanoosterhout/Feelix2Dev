{"ast":null,"code":"/**\n * @license\n * Copyright 2022 CodeSmith LLC\n *\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n * =============================================================================\n */\nimport { Layer } from '../../engine/topology';\nimport { serialization, mul, add, tidy } from '@tensorflow/tfjs-core';\nimport { getExactlyOneTensor } from '../../utils/types_utils';\nimport * as K from '../../backend/tfjs_backend';\n/**\n * Preprocessing Rescaling Layer\n *\n * This rescales images by a scaling and offset factor\n */\n\nexport class Rescaling extends Layer {\n  constructor(args) {\n    super(args);\n    this.scale = args.scale;\n\n    if (args.offset) {\n      this.offset = args.offset;\n    } else {\n      this.offset = 0;\n    }\n  }\n\n  getConfig() {\n    const config = {\n      'scale': this.scale,\n      'offset': this.offset\n    };\n    const baseConfig = super.getConfig();\n    Object.assign(config, baseConfig);\n    return config;\n  }\n\n  call(inputs, kwargs) {\n    return tidy(() => {\n      inputs = getExactlyOneTensor(inputs);\n\n      if (inputs.dtype !== 'float32') {\n        inputs = K.cast(inputs, 'float32');\n      }\n\n      return add(mul(inputs, this.scale), this.offset);\n    });\n  }\n\n}\n/** @nocollapse */\n\nRescaling.className = 'Rescaling';\nserialization.registerClass(Rescaling);","map":{"version":3,"names":["Layer","serialization","mul","add","tidy","getExactlyOneTensor","K","Rescaling","constructor","args","scale","offset","getConfig","config","baseConfig","Object","assign","call","inputs","kwargs","dtype","cast","className","registerClass"],"sources":["C:/Users/Anke/Documents/Feelix documents/Feelix2.0-dev/Feelix v2/node_modules/@tensorflow/tfjs-layers/dist/layers/preprocessing/image_preprocessing.js"],"sourcesContent":["/**\n * @license\n * Copyright 2022 CodeSmith LLC\n *\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n * =============================================================================\n */\nimport { Layer } from '../../engine/topology';\nimport { serialization, mul, add, tidy } from '@tensorflow/tfjs-core';\nimport { getExactlyOneTensor } from '../../utils/types_utils';\nimport * as K from '../../backend/tfjs_backend';\n/**\n * Preprocessing Rescaling Layer\n *\n * This rescales images by a scaling and offset factor\n */\nexport class Rescaling extends Layer {\n    constructor(args) {\n        super(args);\n        this.scale = args.scale;\n        if (args.offset) {\n            this.offset = args.offset;\n        }\n        else {\n            this.offset = 0;\n        }\n    }\n    getConfig() {\n        const config = {\n            'scale': this.scale,\n            'offset': this.offset\n        };\n        const baseConfig = super.getConfig();\n        Object.assign(config, baseConfig);\n        return config;\n    }\n    call(inputs, kwargs) {\n        return tidy(() => {\n            inputs = getExactlyOneTensor(inputs);\n            if (inputs.dtype !== 'float32') {\n                inputs = K.cast(inputs, 'float32');\n            }\n            return add(mul(inputs, this.scale), this.offset);\n        });\n    }\n}\n/** @nocollapse */\nRescaling.className = 'Rescaling';\nserialization.registerClass(Rescaling);\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,KAAT,QAAsB,uBAAtB;AACA,SAASC,aAAT,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,QAA8C,uBAA9C;AACA,SAASC,mBAAT,QAAoC,yBAApC;AACA,OAAO,KAAKC,CAAZ,MAAmB,4BAAnB;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,SAAN,SAAwBP,KAAxB,CAA8B;EACjCQ,WAAW,CAACC,IAAD,EAAO;IACd,MAAMA,IAAN;IACA,KAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;;IACA,IAAID,IAAI,CAACE,MAAT,EAAiB;MACb,KAAKA,MAAL,GAAcF,IAAI,CAACE,MAAnB;IACH,CAFD,MAGK;MACD,KAAKA,MAAL,GAAc,CAAd;IACH;EACJ;;EACDC,SAAS,GAAG;IACR,MAAMC,MAAM,GAAG;MACX,SAAS,KAAKH,KADH;MAEX,UAAU,KAAKC;IAFJ,CAAf;IAIA,MAAMG,UAAU,GAAG,MAAMF,SAAN,EAAnB;IACAG,MAAM,CAACC,MAAP,CAAcH,MAAd,EAAsBC,UAAtB;IACA,OAAOD,MAAP;EACH;;EACDI,IAAI,CAACC,MAAD,EAASC,MAAT,EAAiB;IACjB,OAAOf,IAAI,CAAC,MAAM;MACdc,MAAM,GAAGb,mBAAmB,CAACa,MAAD,CAA5B;;MACA,IAAIA,MAAM,CAACE,KAAP,KAAiB,SAArB,EAAgC;QAC5BF,MAAM,GAAGZ,CAAC,CAACe,IAAF,CAAOH,MAAP,EAAe,SAAf,CAAT;MACH;;MACD,OAAOf,GAAG,CAACD,GAAG,CAACgB,MAAD,EAAS,KAAKR,KAAd,CAAJ,EAA0B,KAAKC,MAA/B,CAAV;IACH,CANU,CAAX;EAOH;;AA5BgC;AA8BrC;;AACAJ,SAAS,CAACe,SAAV,GAAsB,WAAtB;AACArB,aAAa,CAACsB,aAAd,CAA4BhB,SAA5B"},"metadata":{},"sourceType":"module"}